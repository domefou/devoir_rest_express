<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>devoir_rest_express</h1>
<p>API privée pour les utilisateurs et les administrateurs destinée à la gestion des réservations de catways au port de plaisance de Russell. Cette application web permet :</p>
<ul>
<li><strong>Pour les utilisateurs</strong> : Réserver un catway en ligne.</li>
<li><strong>Pour les administrateurs</strong> : Gérer les catways, les réservations et l'état des catways.</li>
</ul>
<h2>Description</h2>
<p>Le port de plaisance de Russell a exprimé le besoin d'une solution moderne pour gérer les réservations de catways, de petits appontements pour amarrer les bateaux. Cette application comprend :</p>
<ul>
<li>Une <strong>API privée</strong> permettant une interaction sécurisée entre le frontend et le backend.</li>
<li>Une interface simple pour gérer les réservations et afficher les informations.</li>
</ul>
<h2>Fonctionnalités</h2>
<h3>Utilisateur</h3>
<ul>
<li>Réservation de catways en ligne.</li>
<li>Affichage des réservations existantes.</li>
</ul>
<h3>Administrateur</h3>
<ul>
<li>Gestion complète des catways (ajout, modification, suppression).</li>
<li>Gestion des réservations (création, modification, annulation).</li>
<li>Suivi de l'état des catways.</li>
</ul>
<h2>Installation et démarrage</h2>
<h3>Pré-requis</h3>
<ul>
<li><strong>Node.js</strong> : Version 16 ou supérieure.</li>
<li><strong>MongoDB</strong> : Une base de données MongoDB fonctionnelle.</li>
</ul>
<h3>Étapes d'installation</h3>
<ol>
<li><strong>Clonez le repository :</strong><pre class="prettyprint source lang-bash"><code>git clone &lt;URL_DU_REPOSITORY>
cd devoir_rest_express

</code></pre>
</li>
</ol>
<p>installer node
-- npm install --</p>
<p>Créez un fichier .env dans le dossier env/ :</p>
<p>DATABASE_URL=&lt;URL_DE_LA_BASE_DE_DONNÉES&gt;
PORT=3000
JWT_SECRET=&lt;votre_secret_jwt&gt;
SESSION_SECRET=&lt;votre_secret_session&gt;</p>
<p>Utilisez la commande suivante pour démarrer le serveur avec nodemon :
-- npm start --</p>
<p>Voici les principales bibliothèques utilisées dans ce projet, selon le fichier package.json :</p>
<p>bcrypt : Pour le hachage sécurisé des mots de passe.
cookie-parser : Analyse les cookies HTTP.
cors : Gère les requêtes cross-origin.
dotenv : Charge les variables d'environnement à partir d'un fichier .env.
ejs : Moteur de templates.
env-cmd : Chargeur avancé de variables d'environnement.
express : Framework pour construire des applications web et API.
express-session : Gère les sessions utilisateur.
jsonwebtoken : Génère et vérifie les JSON Web Tokens (JWT).
method-override : Permet l'utilisation de verbes HTTP tels que PUT et DELETE.
mongodb et mongoose : Modélisation et gestion des données MongoDB.
morgan : Middleware pour le logging des requêtes HTTP.
nodemon : Redémarre automatiquement le serveur lors de modifications.</p>
<p>Endpoints de l'API</p>
<p>Publique
POST /login : se connecter.</p>
<p>POST /signUp : s'inscrire.</p>
<p>POST /reset : reinitialiser le mot de passe.</p>
<p>Utilisateur
POST /reservations : Créer une réservation.</p>
<p>GET /reservations : Récupérer toutes les réservations.</p>
<p>Administrateur
POST /catways : Ajouter un nouveau catway.</p>
<p>PUT /catways/:id : Mettre à jour les informations d'un catway.</p>
<p>DELETE /catways/:id : Supprimer un catway.</p>
<p>GET /catways : Récupérer l'état des catways.</p>
<p>Les scripts disponibles dans ce projet sont définis dans le package.json :
Démarrage du serveur :
-- npm start --</p>
<p>Contribution
Les contributions sont les bienvenues ! Suivez les étapes ci-dessous :</p>
<p>Forkez ce repository.</p>
<p>Créez une branche spécifique pour vos modifications :</p>
<p>bash
git checkout -b feature/ma-fonctionnalite
Effectuez vos modifications et poussez-les :</p>
<p>bash
git push origin feature/ma-fonctionnalite
Soumettez une Pull Request.</p>
<p>Licence
Ce projet est sous la licence MIT. Consultez le fichier LICENSE pour plus d'informations.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-models_catways.html">models/catways</a></li><li><a href="module-models_reservations.html">models/reservations</a></li><li><a href="module-models_user.html">models/user</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Ajouteungestionnaired'%25C3%25A9v%25C3%25A9nement%2560click%2560surchaqueboutondesuppression:-Lorsqu'unboutonestcliqu%25C3%25A9,lesdonn%25C3%25A9esducatwaycorrespondantsontr%25C3%25A9cup%25C3%25A9r%25C3%25A9esetins%25C3%25A9r%25C3%25A9esdansleformulaireglobal.-Leformulaireestensuitesoumisautomatiquementpourtraiterlasuppression.">Ajoute un gestionnaire d'événement `click` sur chaque bouton de suppression :- Lorsqu'un bouton est cliqué, les données du catway correspondant sont récupérées et insérées dans le formulaire global.- Le formulaire est ensuite soumis automatiquement pour traiter la suppression.</a></li><li><a href="global.html#Ajouteungestionnaired'%25C3%25A9v%25C3%25A9nements%2560click%2560surchaqueboutondemise%25C3%25A0jour:-R%25C3%25A9cup%25C3%25A8reouconfiguredynamiquementleformulairedestin%25C3%25A9%25C3%25A0lamise%25C3%25A0jour.-Ajouteun%25C3%25A9v%25C3%25A9nement%2560submit%2560pourenvoyerlesdonn%25C3%25A9esenPUTettraiterlesretoursserveur.">Ajoute un gestionnaire d'événements `click` sur chaque bouton de mise à jour :- Récupère ou configure dynamiquement le formulaire destiné à la mise à jour.- Ajoute un événement `submit` pour envoyer les données en PUT et traiter les retours serveur.</a></li><li><a href="global.html#Gestionnaired'%25C3%25A9v%25C3%25A9nement%2560click%2560surleboutond'ajout:-Activeleformulaired'ajoutoureconfiguredynamiquementunformulaireexistantpourtraiterunerequ%25C3%25AAtePOST.-D%25C3%25A9finitungestionnaire%2560submit%2560pourenvoyerlesdonn%25C3%25A9essaisies%25C3%25A0l'endpointcorrespondant.">Gestionnaire d'événement `click` sur le bouton d'ajout :- Active le formulaire d'ajout ou reconfigure dynamiquement un formulaire existant pour traiter une requête POST.- Définit un gestionnaire `submit` pour envoyer les données saisies à l'endpoint correspondant.</a></li><li><a href="global.html#G%25C3%25A9n%25C3%25A9rationdynamiquedelalisted%25C3%25A9roulante:-Lalisted%25C3%25A9roulanteestcibl%25C3%25A9eparsonID%2560Number%2560.-Desoptionsnum%25C3%25A9rot%25C3%25A9esde1%25C3%25A024sontajout%25C3%25A9es%25C3%25A0cetteliste.-Chaqueoptionaune%2560value%2560correspondantaunum%25C3%25A9roetuntexteaffich%25C3%25A9identique.">Génération dynamique de la liste déroulante :- La liste déroulante est ciblée par son ID `Number`.- Des options numérotées de 1 à 24 sont ajoutées à cette liste.- Chaque option a une `value` correspondant au numéro et un texte affiché identique.</a></li><li><a href="global.html#formaterDateFormateunedatedonn%25C3%25A9eauformat%2560YYYY-MM-DD%2560.-Siladateestvideouinvalide,renvoieunecha%25C3%25AEnevide.">formaterDateFormate une date donnée au format `YYYY-MM-DD`.- Si la date est vide ou invalide, renvoie une chaîne vide.</a></li><li><a href="global.html#handleSortClickAjouteungestionnaireauboutonpouralternerentrelesdeuxm%25C3%25A9thodesdetri:-Basculelavariableglobale%2560sortByNumber%2560pourd%25C3%25A9terminerlam%25C3%25A9thodedetri.-Trieleslignessoitparnum%25C3%25A9rodecatway,soitpardate,enmettant%25C3%25A0jourletextedubouton.-R%25C3%25A9ins%25C3%25A8releslignestri%25C3%25A9esdansletableau.">handleSortClickAjoute un gestionnaire au bouton pour alterner entre les deux méthodes de tri :- Bascule la variable globale `sortByNumber` pour déterminer la méthode de tri.- Trie les lignes soit par numéro de catway, soit par date, en mettant à jour le texte du bouton.- Réinsère les lignes triées dans le tableau.</a></li><li><a href="global.html#listAllResultAjouteun%25C3%25A9couteurd'%25C3%25A9v%25C3%25A9nementsurleboutonetalternel'affichagedel'%25C3%25A9l%25C3%25A9mentder%25C3%25A9sultats:-Silesr%25C3%25A9sultatssontmasqu%25C3%25A9s(%2560display:'none'%2560),l'%25C3%25A9l%25C3%25A9mentpasseenmodetableau(%2560display:'table'%2560)etletexteduboutonestmis%25C3%25A0jouren%2560Masquertout%2560.-Sinon,l'%25C3%25A9l%25C3%25A9mentestmasqu%25C3%25A9%25C3%25A0nouveauetletexteduboutonrevient%25C3%25A0%2560affichertout%2560.">listAllResultAjoute un écouteur d'événement sur le bouton et alterne l'affichage de l'élément de résultats :- Si les résultats sont masqués (`display: 'none'`), l'élément passe en mode tableau (`display: 'table'`) et  le texte du bouton est mis à jour en `Masquer tout`.- Sinon, l'élément est masqué à nouveau et le texte du bouton revient à `afficher tout`.</a></li><li><a href="global.html#onSubmitAjouteun%25C3%25A9v%25C3%25A9nement%2560submit%2560auformulaireglobal:-Pr%25C3%25A9parelesdonn%25C3%25A9esvia%2560FormData%2560etlesconvertitenJSON.-Effectueunerequ%25C3%25AAteDELETEasynchronepoursupprimeruneressourcesurleserveur.-G%25C3%25A8relescasdesucc%25C3%25A8soud'erreur.">onSubmitAjoute un événement `submit` au formulaire global :- Prépare les données via `FormData` et les convertit en JSON.- Effectue une requête DELETE asynchrone pour supprimer une ressource sur le serveur.- Gère les cas de succès ou d'erreur.</a></li><li><a href="global.html#resetAjouteun%25C3%25A9v%25C3%25A9nement%2560click%2560auboutonder%25C3%25A9initialisation:-Videlechampderecherche.-Alternelavisibilit%25C3%25A9desr%25C3%25A9sultatsderecherche(%2560#searchResult%2560)etmet%25C3%25A0jourletextedubouton.">resetAjoute un événement `click` au bouton de réinitialisation :- Vide le champ de recherche.- Alterne la visibilité des résultats de recherche (`#searchResult`) et met à jour le texte du bouton.</a></li><li><a href="global.html#updateMet%25C3%25A0jourleschampsduformulaireaveclesdonn%25C3%25A9esr%25C3%25A9cup%25C3%25A9r%25C3%25A9es:-Renseigneleschamps%2560id%2560,%2560State%2560,%2560Number%2560et%2560Type%2560.-D%25C3%25A9sactiveleschamps%2560Number%2560et%2560Type%2560pour%25C3%25A9viterleurmodification.">updateMet à jour les champs du formulaire avec les données récupérées :- Renseigne les champs `id`, `State`, `Number` et `Type`.- Désactive les champs `Number` et `Type` pour éviter leur modification.</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Mar 17 2025 17:20:23 GMT+0100 (heure normale d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>